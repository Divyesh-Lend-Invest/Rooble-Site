// JQuery Tweet

JQTWEET={

user:"Rooble_UK"

,numTweets:4,appendTo:".tweets",loadTweets:function(){$.ajax({url:"http://api.twitter.com/1/statuses/user_timeline.json/",type:"GET",dataType:"jsonp",data:{screen_name:JQTWEET.user,include_rts:true,count:JQTWEET.numTweets,include_entities:true},success:function(a,b,c){var d='<div class="tweet">TWEET_TEXT<div class="time">AGO</div>';for(var e=0;e<a.length;e++){$(JQTWEET.appendTo).append(d.replace("TWEET_TEXT",JQTWEET.ify.clean(a[e].text)).replace(/USER/g,a[e].user.screen_name).replace("AGO",JQTWEET.timeAgo(a[e].created_at)).replace(/ID/g,a[e].id_str))}}})},timeAgo:function(a){var b=new Date;var c=new Date(a);if($.browser.msie){c=Date.parse(a.replace(/( \+)/," UTC$1"))}var d=b-c;var e=1e3,f=e*60,g=f*60,h=g*24,i=h*7;if(isNaN(d)||d<0){return""}if(d<e*2){return"right now"}if(d<f){return Math.floor(d/e)+" seconds ago"}if(d<f*2){return"about 1 minute ago"}if(d<g){return Math.floor(d/f)+" minutes ago"}if(d<g*2){return"about 1 hour ago"}if(d<h){return Math.floor(d/g)+" hours ago"}if(d>h&&d<h*2){return"yesterday"}if(d<h*365){return Math.floor(d/h)+" days ago"}else{return"over a year ago"}},ify:{link:function(a){return a.replace(/\b(((https*\:\/\/)|www\.)[^\"\']+?)(([!?,.\)]+)?(\s|$))/g,function(a,b,c,d,e){var f=c.match(/w/)?"http://":"";return'<a class="twtr-hyperlink" target="_blank" href="'+f+b+'">'+(b.length>25?b.substr(0,24)+"...":b)+"</a>"+e})},at:function(a){return a.replace(/\B[@＠]([a-zA-Z0-9_]{1,20})/g,function(a,b){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/intent/user?screen_name='+b+'">@'+b+"</a>"})},list:function(a){return a.replace(/\B[@＠]([a-zA-Z0-9_]{1,20}\/\w+)/g,function(a,b){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/'+b+'">@'+b+"</a>"})},hash:function(a){return a.replace(/(^|\s+)#(\w+)/gi,function(a,b,c){return b+'<a target="_blank" class="twtr-hashtag" href="http://twitter.com/search?q=%23'+c+'">#'+c+"</a>"})},clean:function(a){return this.hash(this.at(this.list(this.link(a))))}}};$(document).ready(function(){JQTWEET.loadTweets()})